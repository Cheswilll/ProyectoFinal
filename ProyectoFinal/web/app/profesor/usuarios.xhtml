<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Gestión</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/indexResources/frameworks/bootstrap/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/indexResources/frameworks/font-awesome/css/font-awesome.min.css"/>
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/appResources/inicio/css/local.css" />
        <link rel="shortcut icon" type="image/png" href="#{request.contextPath}/resources/appResources/inicio/imgs/nintendo.png"/>

        <script src="#{request.contextPath}/resources/indexResources/js/jquery-1.11.1.min.js"></script>
        <script src="#{request.contextPath}/resources/indexResources/frameworks/bootstrap/js/bootstrap.min.js"></script>

        <!-- you need to include the shieldui css and js assets in order for the charts to work -->
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/appResources/inicio/css/all.min.css" />
        <link id="gridcss" rel="stylesheet" type="text/css" href="#{request.contextPath}/resources/appResources/inicio/css/dark.all.min.css" />

        <script type="text/javascript" src="#{request.contextPath}/resources/appResources/inicio/js/shieldui-all.min.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/appResources/inicio/js/gridData.js"></script>
    </h:head>
    <h:body>
        <div id="wrapper">
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html"><img src="#{request.contextPath}/resources/appResources/inicio/imgs/nintendo.png" style="width: 10vw; height: 4vh;"/></a>
                    <a class="navbar-brand" >
                        <h:form id="form-rol">
                            <h:selectOneMenu class="form-control" style="color: #fff; background-color: #2a9fd6"  value="#{sessionController.rolSeleccionado}" onchange="submit();">
                                <f:selectItems value="#{sessionController.usuario.roles}" var="r"
                                               itemLabel="#{r.nombreRol}"/>
                                <f:converter converterId="rolConverter"/>
                            </h:selectOneMenu>
                        </h:form> 
                    </a>
                </div>
                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul id="active" class="nav navbar-nav side-nav" style="margin-left: -15vw;">
                        <li class="selected sobre" style="margin-top: 3vh; font-size: 19px;"><a href="#{request.contextPath}/index.xhtml"><i class="fa fa-home"></i> Inicio </a></li>
                        <c:forEach items="#{sessionController.rolSeleccionado.permisos}" var="p">
                            <li style="font-size: 19px;"><h:link  class="selected" outcome="/#{p.url}">#{p.nombre} </h:link></li>
                        </c:forEach>
                    </ul>
                    <ul class="nav navbar-nav navbar-right navbar-user">
                        <li class="dropdown user-dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> #{sessionController.usuario.nombre} #{sessionController.usuario.apellido} <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="#"><i class="fa fa-user"></i> Perfil</a></li>
                                <li><a href="#"><i class="fa fa-gear"></i> Ajustes </a></li>
                                <!-- <li class="divider"></li> -->

                            </ul>
                        </li>
                        <li class="divider-vertical"></li>
                        <li>
                            <li><a href="#"><i class="fa fa-power-off"></i> Salir</a></li>
                        </li>
                    </ul>
                </div>
            </nav>

            <div id="page-wrapper">

                <div class="row" style="margin-top: 10vh;">
                    <div class="col-lg-12">
                        <h2>Gestión de usuarios</h2>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-users"></i> Usuarios </h3>
                            </div>
                            <div class="panel-body">
                                <b:message for="tabla_usuarios" show-summary="true" show-detail="true"/>
                                <b:form prependId="false" id="tabla_usuarios">
                                    <b:dataTable value="#{listarUsuariosController.usuarios}" var="u" style="background: #fff; color: #000;">
                                        <b:dataTableColumn label="No. de identificación" value="#{u.noIdentificacion}"/>
                                        <b:dataTableColumn label="Correo electronico" value="#{u.correoElectronico}"/>
                                        <b:dataTableColumn label="Correo institucional" value="#{u.correoElectronicoInstitucional}"/>
                                        <b:dataTableColumn label="Nombre" value="#{u.nombre}"/>
                                        <b:dataTableColumn label="Apellido" value="#{u.apellido}"/>
                                        <b:dataTableColumn label="Dirección" value="#{u.direccion}"/>
                                        <b:dataTableColumn label="Estado" value="#{listarUsuariosController.validarEstado(u.estado)}"/>
                                        <b:dataTableColumn label="Tipo Identificación" value="#{u.tipoIdentificacion.nombreTipoIdentificacion}"/>
                                        <b:dataTableColumn label="Más" value="">
                                            <b:commandButton look="primary" value="" iconAwesome="pencil"/>

                                            <b:commandButton look="danger" value=""
                                                             iconAwesome="trash" tooltip="Eliminar"
                                                             onclick="$('.modalPseudoClass').modal();">
                                                <f:ajax event="click" render=":message-modal-confirm"
                                                      listener="#{listarPersonasController.setPersonaSeleccionada(p)}" />
                                            </b:commandButton>
                                        </b:dataTableColumn>

                                    </b:dataTable>
                                </b:form>

                                <b:modal id="amodal" title="Modal Example" styleClass="modalPseudoClass">
                                    <h:panelGroup id="message-modal-confirm" layout="block">
                                        <p>¿Está seguro de eliminar el usuario <!--#{listarPersonasController.personaSeleccionada.noIdentificacion} #{listarPersonasController.personaSeleccionada.nombre1} -->?
                                        </p>
                                    </h:panelGroup>
                                    <f:facet name="footer">
                                        <h:form id="form-eliminar" prependId="false">
                                            <b:button value="Close" dismiss="modal" />
                                            <b:commandButton value="Ok" look="primary"
                                                         actionListener="#{listarPersonasController.eliminarPersona()}"/>

                                        </h:form>
                                    </f:facet>
                                </b:modal>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-8">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-bar-chart-o"></i> Graficas </h3>
                            </div>
                            <div class="panel-body">
                                <p>Faust is a tragic play in two parts by Johann Wolfgang von Goethe, 
                                    usually known in English as Faust, Part One and Faust, Part Two.
                                    Although rarely staged in its entirety, it is the play with the largest audience numbers on 
                                    German-language stages. Faust is considered by many to be Goethe's magnum opus and the 
                                    greatest work of German literature.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-cubes"></i> N. Tipos Usuarios</h3>
                            </div>
                            <div class="panel-body">
                                <p>Administradores<a style="float: right">12</a></p>
                                <p>Estudiantes<a style="float: right">22</a></p>
                                <p>Profesores<a style="float: right">34</a></p>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-lg-4">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-bar-chart-o"></i> Calendario </h3>
                            </div>
                            <div class="panel-body">
                                <div id="calendar"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"><i class="fa fa-magnet"></i> Titulo 4 </h3>
                            </div>
                            <div class="panel-body">
                                Contenudo 4    
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-4">
                        <header>
                            <ul class="nav nav-tabs">
                                <li class="active">
                                    <a data-toggle="tab" href="#stats">Usuarios</a>
                                </li>
                                <li class="">
                                    <a data-toggle="tab" href="#report"> Favoritos </a>
                                </li>
                                <li class="">
                                    <a data-toggle="tab" href="#dropdown1"> Comentarios </a>
                                </li>
                            </ul>
                        </header>
                        <div class="body tab-content">
                            <div class="tab-pane clearfix active" id="stats">
                                <h5 class="tab-header"><i class="fa fa-calendar-o fa-2x"></i> Ultimos usuarios registrados</h5>
                                <ul class="news-list">
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Ivan Gorge</a></div>
                                            <div class="position">Software Engineer</div>
                                            <div class="time">Last logged-in: Mar 12, 11:11</div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Roman Novak</a></div>
                                            <div class="position">Product Designer</div>
                                            <div class="time">Last logged-in: Mar 12, 19:02</div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Teras Uotul</a></div>
                                            <div class="position">Chief Officer</div>
                                            <div class="time">Last logged-in: Jun 16, 2:34</div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Deral Ferad</a></div>
                                            <div class="position">Financial Assistant</div>
                                            <div class="time">Last logged-in: Jun 18, 4:20</div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-pane" id="report">
                                <h5 class="tab-header"><i class="fa fa-star fa-2x"></i> Popular contacts</h5>
                                <ul class="news-list news-list-no-hover">
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Pol Johnsson</a></div>
                                            <div class="options">
                                                <button class="btn btn-xs btn-success">
                                                    <i class="fa fa-phone"></i>
                                                    Call
                                                </button>
                                                <button class="btn btn-xs btn-warning">
                                                    <i class="fa fa-envelope-o"></i>
                                                    Message
                                                </button>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Terry Garel</a></div>
                                            <div class="options">
                                                <button class="btn btn-xs btn-success">
                                                    <i class="fa fa-phone"></i>
                                                    Call
                                                </button>
                                                <button class="btn btn-xs btn-warning">
                                                    <i class="fa fa-envelope-o"></i>
                                                    Message
                                                </button>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Eruos Forkal</a></div>
                                            <div class="options">
                                                <button class="btn btn-xs btn-success">
                                                    <i class="fa fa-phone"></i>
                                                    Call
                                                </button>
                                                <button class="btn btn-xs btn-warning">
                                                    <i class="fa fa-envelope-o"></i>
                                                    Message
                                                </button>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-pane" id="dropdown1">
                                <h5 class="tab-header"><i class="fa fa-comments fa-2x"></i> Top Commenters</h5>
                                <ul class="news-list">
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Edin Garey</a></div>
                                            <div class="comment">
                                                Nemo enim ipsam voluptatem quia voluptas sit aspernatur 
                                                aut odit aut fugit,sed quia
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Firel Lund</a></div>
                                            <div class="comment">
                                                Duis aute irure dolor in reprehenderit in voluptate velit
                                                esse cillum dolore eu fugiat.
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <i class="fa fa-user fa-4x pull-left"></i>
                                        <div class="news-item-info">
                                            <div class="name"><a href="#">Jessica Desingter</a></div>
                                            <div class="comment">
                                                Excepteur sint occaecat cupidatat non proident, sunt in
                                                culpa qui officia deserunt.
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </h:body>
</html>

